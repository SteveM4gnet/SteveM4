<html>
<head>
</head>
<title>
Ready Reckoner
</title>
<body>
<div id = 'container'>
	<div class = 'header'>
		<p>Quick Co2 Percentage Calculator 0.2.6</p>
	</div>
	<div class = 'app'>
		<pre id = 'question'></pre>

		<button
			class = 'button'
			id = 'boolTrue_1'
			onclick  = 'nextQ(true)'
			>Yes
		</button>

		<button
			class = 'button'
			id = 'boolFalse_1'
			onclick  = 'nextQ(false)'
			>No
		</button>

		<pre id = 'solution'></pre>

		<div id = 'quickCal'>
			<input
				type = 'number'
				class = 'hidden'
				id = 'co2'
				onchange = 'calcPerc()'
				placeholder = 'Co2'>
			</input>
			<input
				type = 'number'
				class = 'hidden'
				id = 'ulev'
				onchange = 'calcUlev()'
				placeholder = 'Electric Range (Miles)'>
			</input>
			<input
				type = 'number'
				class = 'hidden'
				id = 'listPrice'
				onchange = 'listPrice()'
				placeholder = 'List price of car'>
			</input>
		
		</div>
		<pre id = 'percentage'></pre>
		<pre id = 'history'></pre>
	</div>
	<button id = 'viewCalc' onclick = 'viewCalc()'>View Calculation</button>
	<div id = 'calc'>
		<pre id = 'calc-pre'>
co2 = (String(co2/5).split('.')[0])*5
mul = ((co2-50)/5)/4;
a = (co2/4 + (2.5 - mul));	

<valA></valA> rounded to <valB></valB>
((<valC></valC> - 50) / 5 ) / 4 = <valD></valD> 
(<valE></valE> / 4 + ( 2.5 - <valF></valF> )) = <valG></valG>

Attractions and deductions:
<valH></valH>
		
		</pre>
	</div>
</div>

</body>
<style>
body
{
	position:absolute;
	width:100%;
	max-width:100vh;
	height:100%;
	margin:0;
	top:0;
	left:50%;
	overflow:hidden;
	transform:translate(-50%,0);
}

button:hover, button:focus
{
	outline:none;
}

#container
{
	height:100%;
}

.header
{
	position:absolute;
	top:15%;
	width:100%;
	height:5vh;
	font-size:2vh;
	z-index:3;
}

p, pre
{
	width:100%;
	text-align:center;
	color:#fff;
}

#prof {
    color: #3baa50;
    text-align: left;
    font-size: 1.5vh;
    font-weight: 100;
}

#vehicleProfile {
    position: absolute;
    top: 70%;
    width: 95%;
    height: 25%;
    left: 2.5%;
    border-bottom-right-radius: 2.5vh;
    border-bottom-left-radius: 2.5vh;
}

p
{
	font-family:arial;
	margin:0;
	line-height:0%;
	position:absolute;
	top:50%;
}

pre
{
	color:#3d7faf;
	font-weight:700;
	font-size:2vh;
	margin:0;
}

pre#history {
    text-align: left;
    position: absolute;
    top: 60%;
    left: 5%;
	font-weight:100;
	font-size:1.5vh;
}

#question
{
    width: 100%;
	position:absolute;
	top:10%;
}

.app
{
	background-color:#fff;
	border:solid 0.5vh #3d7faf;
	border-top:solid 5vh #3d7faf;
	border-radius:5vh;
	box-sizing:border-box;
	position:absolute;
	width:100%;
	left:0;
	top:15%;
	height:50%;
	transition:1s;
	overflow:hidden;
}

.button
{
	position:relative;
	background:#f00;
	border:none;
	width:25%;
	height:5vh;
	left:50%;
	transform:translate(-100%,0);
	color:#fff;
	border-radius:1vh;
	top:10vh;
	transition:0.1s;
	box-shadow:0.0vh 0.0vh 0vh #aaa;
}

.button:hover
{
	filter:contrast(2);
	box-shadow:0.1vh 0.3vh 0vh #aaa;
}

.button:active
{
	filter:contrast(1.5);
	box-shadow:0.1vh 0.2vh 0vh #aaa;
}

.button:focus
{
	outline:none;
	box-shadow:0.1vh 0.5vh 0vh #aaa;
}

#boolFalse_1
{
	background:#C43838;
}

#boolTrue_1
{
	background:#3BAA50;
}

#quickCal
{
	position:absolute;
	top:25%;
	left:50%;
	transform:translate(-50%,0);
}

input
{
	border:solid 0.2vh #3d7faf;
	padding:1vh;
	text-align:center;
	border-radius:1vh;
	font-size:4vh;
	width:10vw;
	transition:0.3s;
	position:absolute;
	transform: translate(-50%,00);
}

#ulev, #listPrice
{
	font-size:1.5vh;
}

input:focus
{
	outline:none;
}

pre#solution {
    position: absolute;
    top: 10%;
}

input[type=number]::-webkit-inner-spin-button, 
input[type=number]::-webkit-outer-spin-button
{ 
  -webkit-appearance: none; 
  margin: 0; 
}

#percentage
{
    position: absolute;
    top: 45%;
	margin:0;
    font-size: 5vh;
    line-height: 0;
    padding: 0;
}

.hidden
{
    opacity: 0;
    width: 0;
	height:0;
    border: none;
    transition: 0.4s;
}

button#viewCalc:hover {
    border-radius: 1vh;
}
button#viewCalc {
    position: absolute;
    top: 60%;
    width: 10%;
    left: 90%;
    transform: translate(-50%);
    background: #fff;
    transition: 0.2s;
    border: solid 0.2vh #3d7faf;
}

pre#calc-pre
{
    font-weight: 100;
    font-size: 1.4vh;
    text-align: left;
    color: #000;
    position: absolute;
    top: 20%;
    left: 50%;
    margin-left: 1%;
	z-index:-1;
	transition:0.1s;
}

pre#calc-pre.show
{
	left: 100%;
}
</style>
<script>
var qstn = document.getElementById('question'),
	sltn = document.getElementById('solution'),
	bton = document.querySelectorAll('.app .button'),
	hist = document.getElementById('history'),
	pBin = '',
	Apr6 = false,
	rde2 = false,
	desl = false,
	elec = false,
	qNum = 0;

var textQstn = 
	[
		'Is your car an all electric vehicle',
		'Is the vehicle a Diesel',
		'Is your diesel vehicle RDE2 complient',		
		'Is the car registered after 06/04/2020',
		'Is the Co2 Emessions of your car 50g/km or below',
		
	];
	
window.onload = function()
{
	var bool = '';
	start(bool);
}

function start(bool)
{
	qstn.innerHTML = textQstn[qNum] + '?';
	hist.innerHTML += textQstn[qNum] + '? : ';

	pBin += bool ? 1 : 0;
	/*
	Matrix:
	show Co2, show Elec Range, newer than 06/04/2020, diesel, rde2 deisel, electric
	        --------------------------------------------
	INPUT 	||  0  ||  0  ||  0  ||  0  ||  0  ||  1  ||
			|| NUL || ELC || DSL || RDE || REG || 50G ||
			|| --- || --- || --- || --- || --- || --- ||
	BINARY 	||  0  ||  1  ||  0  ||  0  ||  0  ||  0  ||
			|| CO2 || RNG || NEW || DSL || RDE || ELC ||
			--------------------------------------------
	*/
	
	pBin == '01'		? showSltn(0, 0, 0, 0, 0, 1) :	
	pBin == '000'		? nextQ():
	pBin == '000000'	? showSltn(1, 0, 0, 0, 0, 0) :
	pBin == '000001'	? showSltn(0, 1, 0, 0, 0, 0) :
	pBin == '000010'	? showSltn(1, 0, 1, 0, 0, 0) :
	pBin == '000011'	? showSltn(0, 1, 1, 0, 0, 0) :
	pBin == '001000'	? showSltn(1, 0, 0, 1, 0, 0) :
	pBin == '001010'	? showSltn(1, 0, 1, 1, 0, 0) :
	pBin == '001001'	? showSltn(0, 1, 0, 1, 0, 0) :
	pBin == '001011'	? showSltn(0, 1, 1, 1, 0, 0) :
	pBin ==	'001111'	? showSltn(1, 0, 1, 1, 1, 0) :
	pBin ==	'001100'	? showSltn(1, 0, 0, 1, 1, 0) :
	pBin ==	'001101'	? showSltn(0, 1, 0, 1, 1, 0) :
	pBin == '001110'	? showSltn(1, 0, 1, 1, 1, 0) :	null;	
	console.log(pBin);		
	
	qNum > 4 ? qNum = 0 : null;
}

function showSltn(b,c,d,e,f,g)
{
	var co2 = document.getElementById('co2'),
		ulev = document.getElementById('ulev'),
		a;
		
	b == 1 ? co2.classList.toggle('hidden') : null;
	c == 1 ? ulev.classList.toggle('hidden') : null;
	d == 1 ? Apr6 = true: null;
	e == 1 ? desl = true: null;
	f == 1 ? rde2 = true: null;
	g == 1 ? elec = true: null;
	
	sltn.innerHTML = buildSltn(b,c,d,e,f);
	function buildSltn(b,c,d,e,f)
	{
		var txt = 'You have a'
		
		if (g)
		{
			txt += 'n all electric vehicle';
			return txt;
		};
		
		txt += e ? ' diesel (D)' : ' hybrid, petrol or other kind (A/F) of';
		txt += ' car registered '
		txt += !d ? 'before' : 'after';
		txt += ' 06/04/2020.'
		txt += e ? ' Your diesel is ' : '';
		txt += e ? f ? 'RDE2 complient' : 'RDE2 Non-complient' : '';
		txt += '\n';
		txt += c ? 'Enter your Electric Range' : 'Enter your Co2';
		return txt;
	};
	
	qstn.classList.toggle('hidden');
	for (a = 0; a < bton.length; a++)
	{
		bton[a].classList.toggle('hidden');
	}
}

function nextQ(bool)
{
	hist.innerHTML += bool ? 'yes' + '\n' : 'no' + '\n';
	qNum++;
	start(bool);
	return;
}

function calcPerc()
{
	var co2 = document.getElementById('co2'),
		pcnt = document.getElementById('percentage'),
		a,
		mul;
	
	showListPrice(co2);	
	var calc = document.querySelector('#calc-pre'),
		valA = document.querySelector('valA'),
		valB = document.querySelector('valB'),
		valC = document.querySelector('valC'),
		valD = document.querySelector('valD'),
		valE = document.querySelector('valE'),
		valF = document.querySelector('valF'),
		valG = document.querySelector('valG'),
		valH = document.querySelector('valH');
	
	//----------------
		valA.innerHTML = co2.value;
	//----------------	
	co2 = (String(co2.value/5).split('.')[0])*5
	//-----------------
		valB.innerHTML = co2;
	//-----------------
	mul = ((co2-50)/5)/4;
	//-----------------	
		valC.innerHTML = co2;
		valD.innerHTML = mul;
	//-----------------	
	a = (co2/4 + (2.5 - mul));	
	//-----------------	
		valE.innerHTML = co2;
		valF.innerHTML = mul;
		valG.innerHTML = a;
	//-----------------
	Apr6 ? (a = (a - 2), valH.innerHTML = 'New car, -2%') : valH.innerHTML = 'None';	
	desl ? (a = (a + 4), valH.innerHTML = 'Diesel, +4%') : valH.innerHTML = 'None';	
	rde2 ? (a = (a - 4), valH.innerHTML = 'RDE2 diesel, no attraction') : valH.innerHTML = 'None';	
	
	pcnt.innerHTML = a + '%';
	
}

function calcUlev()
{
	var ulev = document.getElementById('ulev'),
		pcnt = document.getElementById('percentage');
	
	showListPrice(ulev);	
	ulev.value < 30 ? a = 14 :
	ulev.value < 39 ? a = 12 :
	ulev.value < 69 ? a = 8 :
	ulev.value < 129 ? a  = 5 :
	ulev.value > 130 ? a = 2 : a = 0 ;
	
	Apr6 ? a = (a - 2) : null;
	desl ? a = (a + 4) : null;
	rde2 ? a = (a - 4) : null;
	
	pcnt.innerHTML = a + '%';
	
}

function viewCalc()
{
	var show = document.getElementById('calc-pre');
	show.classList.toggle('show');
}

function showListPrice(hide)
{
	var prce = document.getElementById('listPrice');
	hide.classList.toggle('hidden');
	prce.classList.toggle('hidden');
}

function listPrice()
{
	
}
</script>
</html>